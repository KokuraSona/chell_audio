# https://chromium.googlesource.com/chromiumos/overlays/board-overlays.git/+/master/overlay-chell/chromeos-base/chromeos-bsp-chell/files/audio-config/ucm-config/sklnau8825adi/HiFi.conf
# 2020-09-29

SectionVerb {
	Value {
	}

	EnableSequence [
		cdev "hw:sklnau8825adi"
		cset "name='codec1_out mo media0_in mi Switch' off"
		cset "name='codec0_out mo media0_in mi Switch' on"
		cset "name='DAC Oversampling Rate' 64"
		cset "name='Headset Mic Switch' off"
		cset "name='BIQ Path Select' ADC"
		cset "name='BIQ Coefficients' 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0"
		cset "name='codec0_iv_in Switch' 0"
		cset "name='media0_out mo codec0_in mi Switch' off"
		cset "name='media0_out mo dmic01_hifi_in mi Switch' on"
		cset "name='Pin 5 Mux' cvt 2"
		cset "name='Pin 6 Mux' cvt 3"
		cset "name='Pin 7 Mux' cvt 4"
		cset "name='Mic Volume' 255"
	]
}

SectionDevice."Internal Mic" {
	Value {
		#IntrinsicSensitivity "-2600"
	}
}

SectionDevice."Speaker" {
	Value {
		#CoupledMixers "Left Master,Right Master"
		#DspName "speaker_eq"
	}
}

SectionDevice."HDMI1" {
	Value {
		JackDev "HDMI/DP, pcm=4 Jack"
	}
}

SectionDevice."HDMI2" {
	Value {
		JackDev "HDMI/DP, pcm=5 Jack"
	}
}

SectionDevice."Headphone" {
	Value {
		JackDev "sklnau8825adi Headset Jack"
	}

	EnableSequence [
		cset "name='codec0_out mo media0_in mi Switch' off"
		cset "name='codec1_out mo media0_in mi Switch' on"
		cset "name='Headphone Jack Switch' on"
	]

	DisableSequence [
		cset "name='codec0_out mo media0_in mi Switch' on"
		cset "name='codec1_out mo media0_in mi Switch' off"
		cset "name='Headphone Jack Switch' off"
	]
}

SectionDevice."Mic" {
	Value {
		JackDev "sklnau8825adi Headset Jack"
		#CaptureControl "Mic"
		#DefaultNodeGain "2800"
		#DspName "extmic_eq"
	}

	EnableSequence [
		cset "name='Headset Mic Switch' on"
		cset "name='BIQ Coefficients' 0,155,0,6,255,102,0,0,255,179,0,0,0,154,0,6,255,179,128,0"
		cset "name='media0_out mo codec0_in mi Switch' on"
		cset "name='media0_out mo dmic01_hifi_in mi Switch' off"
	]

	DisableSequence [
		cset "name='Headset Mic Switch' off"
		cset "name='BIQ Coefficients' 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0"
		cset "name='media0_out mo codec0_in mi Switch' off"
		cset "name='media0_out mo dmic01_hifi_in mi Switch' on"
	]
}

